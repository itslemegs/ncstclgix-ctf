var _dummy,LoggerModule,VisibilityChangeHelperModule,sj_anim,sj_fader,ShowWebView,CoreUtilities;define("shared",["require","exports"],function(n,t){function v(n,t){for(var r=n.length,i=0;i<r;i++)t(n[i])}function e(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return function(){n.apply(null,i)}}function o(n){i&&event&&(event.returnValue=!1),n&&typeof n.preventDefault=="function"&&n.preventDefault()}function r(n){i&&event&&(event.cancelBubble=!0),n&&typeof n.stopPropagation=="function"&&n.stopPropagation()}function u(n,t,i){for(var r=0;n&&n.offsetParent&&n!=(i||document.body);)r+=n["offset"+t],n=n.offsetParent;return r}function f(){return+new Date}function a(n){return i?event:n}function p(n){return i?event?event.srcElement:null:n.target}function y(n){return i?event?event.fromElement:null:n.relatedTarget}function h(n){return i?event?event.toElement:null:n.relatedTarget}function s(n,t,i){while(n&&n!=(i||document.body)){if(n==t)return!0;n=n.parentNode}return!1}function l(n){window.location.href=n}function c(n,t){n.style.filter=t>=100?"":"alpha(opacity="+t+")",n.style.opacity=t/100}var i=sb_ie;t.forEach=v,t.wrap=e,t.preventDefault=o,t.stopPropagation=r,t.getOffset=u,t.getTime=f,window.sj_b=document.body,window.sb_de=document.documentElement,window.sj_wf=e,window.sj_pd=o,window.sj_sp=r,window.sj_go=u,window.sj_ev=a,window.sj_et=p,window.sj_mi=y,window.sj_mo=h,window.sj_we=s,window.sb_gt=f,window.sj_so=c,window.sj_lc=l}),define("env",["require","exports","shared"],function(n,t,i){function h(n,t){return t.length&&typeof n=="function"?function(){return n.apply(null,t)}:n}function e(n,t){var u=[].slice.apply(arguments).slice(2),r=h(n,u),i;return i=window.setImmediate&&!window.setImmediate.Override&&(!t||t<=16)?"i"+setImmediate(r):s(r,t),f.push(i),i}function o(n,t){var u=[].slice.apply(arguments).slice(2),i=a(h(n,u),t);return r.push(i),i}function v(){c.forEach(f,u),c.forEach(r,window.clearInterval),f.length=0,r.length=0}function u(n){n!=null&&(typeof n=="string"&&n.indexOf("i")===0?window.clearImmediate(parseInt(n.substr(1),10)):l(n))}var c=i,f=[],r=[],s,l,a;s=window.setTimeout,t.setTimeout=e,a=window.setInterval,t.setInterval=o,t.clear=v,l=window.clearTimeout,t.clearTimeout=u,window.setTimeout=window.sb_st=e,window.setInterval=window.sb_si=o,window.clearTimeout=window.sb_ct=u}),define("event.custom",["require","exports","shared","env"],function(n,t,i,r){function s(n){return u[n]||(u[n]=[])}function h(n,t){n.d?c.setTimeout(l.wrap(n,t),n.d):n(t)}function v(){for(var n in u)n.indexOf(a)===0||delete u[n]}function e(n){for(var f=[],t,u,i,r=0;r<arguments.length-1;r++)f[r]=arguments[r+1];for(t=s(n),u=t.e=arguments,i=0;i<t.length;i++)t[i].alive&&h(t[i].func,u)}function o(n,t,i,r){var u=s(n);t&&(t.d=r,u.push({func:t,alive:!0}),i&&u.e&&h(t,u.e))}function f(n,t){for(var r=0,i=u[n];i&&r<i.length;r++)if(i[r].func==t&&i[r].alive){i[r].alive=!1;break}}var l=i,c=r,u={},a="ajax.";t.reset=v,t.fire=e,t.bind=o,t.unbind=f,_w.sj_evt={bind:o,unbind:f,fire:e}}),define("event.native",["require","exports","event.custom"],function(n,t,i){function u(n,t,r,u){var f=n===window||n===document||n===document.body;n&&(f&&t=="load"?i.bind("onP1",r,!0):f&&t=="unload"?i.bind("unload",r,!0):n.addEventListener?n.addEventListener(t,r,u):n.attachEvent?n.attachEvent("on"+t,r):n["on"+t]=r)}function r(n,t,r,u){var f=n===window||n===document||n===document.body;n&&(f&&t=="load"?i.unbind("onP1",r):f&&t=="unload"?i.unbind("unload",r):n.removeEventListener?n.removeEventListener(t,r,u):n.detachEvent?n.detachEvent("on"+t,r):n["on"+t]=null)}t.bind=u,t.unbind=r,window.sj_be=u,window.sj_ue=r}),define("dom",["require","exports","env","shared","event.native","event.custom"],function(n,t,i,r,u,f){function h(n,t){function o(n,t,i,r){i&&u.unbind(i,r,o),f.bind("onP1",function(){if(!n.l){n.l=1;var i=e("script");i.setAttribute("data-rms","1"),i.src=(t?"/fd/sa/"+_G.Ver:"/sa/"+_G.AppVer)+"/"+n.n+".js",_d.body.appendChild(i)}},!0,5)}for(var h=arguments,c,s,i=2,l={n:n};i<h.length;i+=2)c=h[i],s=h[i+1],u.bind(c,s,r.wrap(o,l,t,c,s));i<3&&o(l,t)}function c(){var n=_d.getElementById("ajaxStyles");return n||(n=_d.createElement("div"),n.id="ajaxStyles",_d.body.insertBefore(n,_d.body.firstChild)),n}function a(n){var t=e("script");t.type="text/javascript",t.text=n,t.setAttribute("data-bing-script","1"),document.body.appendChild(t),i.setTimeout(function(){document.body.removeChild(t)},0)}function l(n){var t=e("script");t.type="text/javascript",t.src=n,t.onload=i.setTimeout(function(){document.body.removeChild(t)},0),document.body.appendChild(t)}function o(n){var t=s("ajaxStyle");t||(t=e("style"),t.setAttribute("data-rms","1"),t.id="ajaxStyle",c().appendChild(t)),t.textContent!==undefined?t.textContent+=n:t.styleSheet.cssText+=n}function s(n){return _d.getElementById(n)}function e(n,t,i){var r=_d.createElement(n);return t&&(r.id=t),i&&(r.className=i),r}t.loadJS=h,t.getCssHolder=c,t.includeScript=a,t.includeScriptReference=l,t.includeCss=o,_w._ge=s,_w.sj_ce=e,_w.sj_jb=h,_w.sj_ic=o}),define("cookies",["require","exports"],function(n,t){function i(n,t){var i,u;return r?null:(i=_d.cookie.match(new RegExp("\\b"+n+"=[^;]+")),t&&i)?(u=i[0].match(new RegExp("\\b"+t+"=([^&]*)")),u?u[1]:null):i?i[0]:null}function f(n,t,u,f,e,o){var l,s,h,c;if(r)return null;s=t+"="+u,h=i(n),h?(c=i(n,t),l=c?h.replace(t+"="+c,s):h+"&"+s):l=n+"="+s;var a=location.hostname.match(/([^.]+\.[^.]*)$/),y=o&&o>0?o*6e4:63072e6,v=new Date(+new Date+Math.min(y,63072e6));_d.cookie=l+(a?";domain="+a[0]:"")+(f?";expires="+v.toGMTString():"")+(e?";path="+e:"")}function u(){var f=null,s,t,u,n,i;if(!r)for(f={},s=_d.cookie;t=e.exec(s);){for(n={},i=!1;u=o.exec(t[2]);)i=!0,n[u[1]]=u[2];i||(n=t[2]),f[t[1]]=n}return f}var r=!1,e=new RegExp("([^=]+)=([^;]*)(; )?","g"),o=new RegExp("([^=]+)=([^&]*)&?","g"),s;try{s=_d.cookie}catch(h){r=!0}t.get=i,t.set=f,t.parse=u,_w.sj_cook={get:i,set:f,parse:u}}),define("rmsajax",["require","exports","event.custom"],function(n,t,i){function l(){for(var n=[],u,t=0;t<arguments.length;t++)n[+t]=arguments[t];if(n.length!=0){if(u=n[n.length-1],n.length==1)w(u)&&f.push(u);else if(n.length==3){var o=n[0],s=n[1],i=n[2];p(o)&&p(s)&&w(i)&&(rt(r,o,i),rt(e,s,i))}return window.rms}}function lt(){var i=arguments,t,n;for(s.push(i),t=0;t<i.length;t++)n=i[t],ft(n,r),n.d&&st.call(null,n);return window.rms}function ii(){var t=arguments,n;for(o.push(t),n=0;n<t.length;n++)ft(t[n],e);return window.rms}function a(){var t,i,n;for(ti(),t=!1,n=0;n<s.length;n++)t=st.apply(null,ut.call(s[n],0))||t;for(i=0;i<o.length;i++)t=dt.apply(null,ut.call(o[i],0))||t;if(!t)for(n=0;n<f.length;n++)f[n]()}function st(){var f=arguments,e,i,n,t;if(f.length===0)return!1;if(e=r[d(f[0])],f.length>1)for(i=pt.apply(null,f),n=0;n<i.length;n++)t=i[n],t.run=u,ni(t,function(n){return function(){gt(n,i)}}(t));else e.run=u,g(e,function(){et(e)});return!0}function ni(n,t){var r,i;if(!n.state){if(n.state=ri,tt(n)){t();return}window.ActiveXObject!==undefined?(r=new Image,r.onload=t,r.onerror=t,r.src=n.url):(i=new XMLHttpRequest,i.open("GET",n.url,!0),i.onreadystatechange=function(){i.readyState==4&&t()},i.send())}}function gt(n,t){n.run==u&&(n.state=ot,k(t))}function yt(n,t){n.run==u&&g(n,function(n){return function(){et(n,t)}}(n))}function et(n,t){n.run==u&&(n.state=y,kt(n),t)&&k(t)}function k(n){for(var i,t=0;t<n.length;t++){i=n[t];switch(i.state){case ot:yt(i,n);return;case y:continue}return}}function d(n){for(var t in n)return t}function dt(){return!1}function kt(n){for(var t=0;t<n.callbacks.length;t++)n.callbacks[t].dec()}function g(n,t){var i,o,s,f,r;if(n.state!=ct&&n.state!=y)if(n.state=ct,i=h.createElement("SCRIPT"),i.type="text/javascript",i.setAttribute("data-rms","1"),i.onreadystatechange=i.onload=function(){var n=i.readyState;(!n||/loaded|complete/.test(n))&&b(t)},tt(n)){if(o=n.app?at:vt,(s=h.getElementById(o))&&(f=s.childNodes)&&f[n.pos]&&(r=f[n.pos].innerHTML,r!=="")){var c=4,e=3,u=r.length,a=r.substring(0,c),l=r.substring(u-e,u);a=="<!--"&&l=="-->"&&(r=r.substring(c,u-e)),i.text=r,h.body.appendChild(i)}b(t)}else i.src=n.url,h.body.appendChild(i)}function b(n){n.done||(n.done=!0,n())}function w(n){return ht.call(n)=="[object Function]"}function p(n){return ht.call(n)=="[object Array]"}function rt(n,t,i){for(var e=[],f=new v(i),u,r=0;r<t.length;r++)u=n[t[r]],u||(u=nt(n,t[r])),c(u,f)}function ti(){for(var t,u,i,n=0;n<f.length;n++){t=new v(f[n]);for(u in r)c(r[u],t);for(i in e)c(e[i],t)}}function c(n,t){n.callbacks.push(t),t.inc()}function ft(n,t){for(var i in n)if(typeof n[i]!=undefined)return nt(t,i,n[i])}function nt(n,t,i){return n[t]||(n[t]={callbacks:[],onPrefetch:[]},n[t].key=t),t.indexOf(wt)==0&&(n[t].app=!0),isNaN(i)?n[t].url=i:n[t].pos=i,n[t]}function pt(){for(var i=[],t,n=0;n<arguments.length;n++)t=d(arguments[n]),i.push(r[t]);return i}function tt(n){return!n.url}function bt(){var t,n;r={},e={},f=[],s=[],o=[],u+=1,t=document.getElementById(vt),t&&t.parentNode.removeChild(t),n=document.getElementById(at),n&&n.parentNode.removeChild(n),it()}function it(){i.bind("onP1Lazy",function(){l(function(){i.fire("onP1")}),a()},!0)}var ut=[].slice,ri=1,ot=2,ct=3,y=4,u=0,wt="A:",vt="fRmsDefer",at="aRmsDefer",r={},e={},f=[],s=[],o=[],ht=Object.prototype.toString,h=document,v;t.onload=l,t.js=lt,t.css=ii,t.start=a,v=function(n){var i=0,t=!1;this.inc=function(){t||i++},this.dec=function(){t||(i--,i==0&&(t=!0,n()))}},t.reset=bt,it(),window.rms={onload:l,js:lt,start:a}}),_w.InstrumentationConfig={VisibilityEventEnabled:!0,ManagedDataSources:!0},_w.LogUploadCapFeatureEnabled=!1,_w.InstLogQueueKeyFetcher={Get:function(n){var i="eventLogQueue",t;return t=n.indexOf("AS/API")==1?i+"_Online":i+"_Offline"}},define("clientinst_xls",["require","exports","env","event.native","event.custom","shared"],function(n,t,i,r,u,f){function ct(){function n(n,t){typeof e[n]=="undefined"&&(e[n]=t)}var r=5e3,o=1e3,f=5e5,h=1e5,s=500,i=5e3,t=15728640*.5,u=30;_w.ClientInstConfig||(_w.ClientInstConfig={}),e=ClientInstConfig,n("flushInterval",r),n("retryInterval",o),n("maxStorageUse",f),n("maxBatchSize",h),n("queueDumpInterval",s),n("waitForPageInfo",!1),n("pageInfoTimeout",i),n("logUploadCapSizeInChar",t),n("logUploadCapIntervalInDays",u),n("isInstrumentationEnabled",!0)}function st(){d=0,w=_G.ST?_G.ST.getTime():0}function c(n,t,i,r){var o={errorType:n,failCount:t},s,e,u;if(r){s={impressionGuid:i,previousImpressionGuid:null,timestamp:f.getTime(),type:0,data:{eventType:b,eventData:o}},e=ft([s],[]);try{u=sj_gx(),u.open("POST",_G.XLS,!0),u.send(e)}catch(h){throw h;}}else g(b,o,null,null,i)}function lt(){function t(){h||(h=function(){}),ht(),c("PageInfoTimedOut",0,_G.IG)}ct(),st(),u.bind("ajax.unload",st);try{o=_w.localStorage,s.initialize()}catch(i){}var n=null;e.waitForPageInfo&&(n=sb_st(t,e.pageInfoTimeout)),sj_evt.bind("ClientInst.PageInstInfo",function(t){n&&(sb_ct(n),n=null),h=t[1],h&&ht()})}function ht(){for(var t=0,n,i;k.length>0;){try{i=k.shift(),n=JSON.parse(i)}catch(r){t++;continue}h&&h(n.data),y(n)}t>0&&c("InvalidIncompleteImpressions",t,_G.IG)}function y(n){s.append(n),v()}function a(n){return JSON.stringify(n).replace(/]]>/g,"]]]\]><![CDATA[>")}function at(n,t,i){var u,r;t.push("<E>","<T>Event.",n.data.eventType,"<\/T>","<IG>",n.impressionGuid,"<\/IG>"),n.previousImpressionGuid&&t.push("<PrevIG>",n.previousImpressionGuid,"<\/PrevIG>"),u=n.data.dataSources,u&&t.push("<DS><![CDATA[",a(u),"]\]><\/DS>"),r=n.data.pageLayout,r&&t.push("<Page><L><![CDATA[",a(r),"]\]><\/L><\/Page>"),n.data.eventData||(n.data.eventData={}),n.data.eventData.UTS=i,t.push("<D><![CDATA[",a(n.data.eventData),"]\]><\/D>","<TS>",n.timestamp,"<\/TS>","<\/E>")}function vt(n,t,i){function u(n){return n?n.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):""}var r=n.data,f,s,h,e,o;t.push("<Group>","<M>","<IG>",n.impressionGuid,"<\/IG>","<DS><![CDATA[",a(r.dataSources),"]\]><\/DS>"),f=r.clientUserInfo,f||(f={}),f.ImpressionUrl=r.impressionUrl,s={EnrichedClientInfo:f,TS:r.clientTimestamp,UTS:i},h=r.uxClassification,h&&(s.UxClassification=h),_w.sj_cook&&sj_cook.parse&&(s.Cookies=sj_cook.parse()),t.push("<D><![CDATA[",a(s),"]\]><\/D>"),t.push("<Page>","<Name>",r.pageName,"<\/Name>","<L><![CDATA[",a(r.layoutNodes),"]\]><\/L>","<\/Page>","<TS>",n.timestamp,"<\/TS>","<Ovr>",'<requestInfo key="RawQuery" value ="',u(r.rawQuery),'"/>','<requestInfo key="IsQuery" value ="',u(r.isQuery.toString()),'"/>','<requestInfo key="Form" value="',u(r.form),'"/>'),e=r.userInfoOverrides;for(o in e)e.hasOwnProperty(o)&&t.push('<userInfo key="',u(o),'" value="',u(e[o]),'"/>');t.push('<userInfo key="AppName" value="',u(r.appName),'"/>',"<\/Ovr>","<\/M>","<\/Group>")}function ft(n,t){var r=["<ClientInstRequest>"],o=f.getTime(),s=_G.CID||sj_cook.get(et,et),e,i,u;if(s&&r.push("<CID>",s,"<\/CID>"),n.length>0){for(r.push("<Events>"),i=0;i<n.length;i++)e=n[i],at(e,r,o);r.push("<\/Events>")}if(t.length>0)for(i=0;i<t.length;i++)u=t[i],vt(u,r,o);return r.push("<\/ClientInstRequest>"),r.join("")}function v(n,t){if(n===void 0&&(n=!1),t===void 0&&(t=!0),e.isInstrumentationEnabled){var r=n?l.retryQueue:l.mainQueue;r.flushTimeoutHandle||(r.flushTimeoutHandle=i.setTimeout(function(){return tt(n,r,!1,t)},r.getInterval()))}}function tt(n,t,i,r){var a,o,u,h;if(r===void 0&&(r=!0),sb_ct(t.flushTimeoutHandle),t.flushTimeoutHandle=null,!n||!l.mainQueue.inProgressUpload){if(!n&&l.retryQueue.inProgressUpload&&l.retryQueue.inProgressUpload.abort(),t.inProgressUpload)if(a=f.getTime()-t.requestSentTimestamp,i||a>e.flushInterval)t.inProgressUpload.abort(),i?c("SendAbortedForceFlush",1,_G.IG):c("SendTimedOut",1,_G.IG);else return;(o=s.getBatch(n),o.length!=0)&&(u=sj_gx(),u.open("POST",_G.XLS,r),h=sj_df(pt,u,t,n),r&&(e.flushInterval>=1e3&&(u.timeout=e.flushInterval),u.onload=h),u.setRequestHeader("Content-type","text/xml"),t.inProgressUpload=u,t.requestSentTimestamp=f.getTime(),u.send(ft(o.events,o.masterPageImpressions)),r||h(null))}}function pt(n,t,i,r){if(t.readyState===4){i.inProgressUpload=null;var u=Math.floor(t.status/100);u===2?(s.clearSentItems(r)&&!r&&v(!1),v(!0)):u===4?(s.markFailedItems(!0,r),v(!0)):s.markFailedItems(!1,r),r&&s.recordRetryAttempt()}}function it(n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),tt(!1,l.mainQueue,n,t)}function g(n,t,i,r,u,o,s){var h,l,c,a;if(e.isInstrumentationEnabled){if(h={},t)if(typeof t=="string")h.Text=t;else for(l in t)t.hasOwnProperty(l)&&(h[l]=t[l]);i&&(h.T="CI."+i),c=f.getTime(),h.TS=c,h.RTS=c-w,h.SEQ=d++,a={type:0,impressionGuid:o!=null?o:_G.IG,previousImpressionGuid:s,timestamp:c,data:{eventType:n,eventData:h,dataSources:r,pageLayout:u}},y(a)}}function rt(n){if(e.isInstrumentationEnabled){h&&h(n),n.clientTimestamp=f.getTime();var t={type:1,impressionGuid:n.impressionGuid?n.impressionGuid:_G.IG,previousImpressionGuid:null,timestamp:n.clientTimestamp,data:n};h||!e.waitForPageInfo?y(t):k.push(JSON.stringify(t))}}function ut(n,t,i,r,u){var o,s,h;if(e.isInstrumentationEnabled){if(o={},u)for(s=0;s<u.length;s+=2)o[u[s]]=u[s+1];h=f.getTime(),o.T="CI."+n,o.TS=h,o.RTS=h-w,o.SEQ=d++,o.Name=i,o[typeof t=="number"?"K":"FID"]=t,y({type:0,impressionGuid:_G.IG,previousImpressionGuid:null,timestamp:w,data:{eventType:n,eventData:o}})}}function nt(n){n===void 0&&(n=!0),s.dumpToStorage(),it(!0,n)}function p(){s.dumpToStorage(),it(!1)}var ot,s,l;(function(n){n[n.EVENT=0]="EVENT",n[n.MASTER_PAGE_IMPRESSION=1]="MASTER_PAGE_IMPRESSION"})(ot||(ot={}));var et="MUID",b="CIQueueError",e,yt=864e5,d,w,o,k=[],h;(function(n){function p(){return y&&e.isInstrumentationEnabled}function w(){if(p()){var n=nt();try{o[u]=n,o[d]=s,o[g]=i}catch(t){if(t.name.toLowerCase().indexOf("quota")>=0)y=!1;else throw t;}}}function h(){p()&&(l&&sb_ct(l),l=sb_st(w,e.queueDumpInterval))}function st(n,t){var i=JSON.stringify(n),r=i.length+3;return n.size=r,t?i.replace('"size":0','"size":'+r):i}function ot(n){return{log:n,lastSendErrorTimeStamp:0,inProgress:!1,size:0}}function at(){var i,r,n;if(o){if(ut(),i=o[u],t=[],typeof i!="string"||i.length==0)o[u]="[]";else try{if(t=JSON.parse(i),t.some(function(n){return!n.log}))o[u]="[]",c("QueueRestoreInvalidItems",t.length,_G.IG),t=[];else if(r=t.length,r>0){for(n=0;n<r;n++)t[n].inProgress=!1;v()}}catch(f){o[u]="[]",c("QueueRestoreFailed",0,_G.IG)}y=!0}}function lt(n){var o=[],h=[],c=n?r[0]:t,s,l,f,i,u;if(c)for(s=0,l=c.length,f=0;f<l;f++)if(i=c[f],n||!i.lastSendErrorTimeStamp)if(s+=i.size,s<=e.maxBatchSize)i.inProgress=!0,u=i.log,u.type==1?h.push(u):o.push(u);else break;return{events:o,masterPageImpressions:h,length:o.length+h.length,isRetryBatch:n}}function ct(n){return t=t.filter(function(t){return!t.inProgress&&(!n||!!t.lastSendErrorTimeStamp)}),h(),t.length>0}function et(n){return n.log.type===0&&n.log.data&&n.log.data.eventType===b}function it(n,i){for(var o=[],a=i?r[0]:t,e=0,u,s,l;e<a.length;)u=a[e],u.inProgress?n?(a.splice(e,1),et(u)||(u.lastSendErrorTimeStamp=f.getTime(),o.push(u))):(u.inProgress=!1,e++):e++;s=o.length,s==1?c("InvalidLogMessage",1,o[0].log.impressionGuid):s>0&&(l=s/2,r.push(o.slice(0,l)),r.push(o.slice(l))),h()}function tt(){var t,n,i;if(r.length>0){for(t=r[0],n=0;n<t.length;)i=t[n],i.inProgress?t.splice(n,1):n++;t.length==0&&r.shift()}}function nt(){var u=JSON.stringify(t),f=u.length-e.maxStorageUse,o,i,n,r;if(f<=0)return u;for(o=t.length,i=0,n=0;n<o;n++)if(r=t[n].size,i+=r+1,i>=f){t.splice(0,n+1),c("QueueOverflow",n+1,_G.IG,!0);break}return JSON.stringify(t)}function ft(n){var i=ot(n);st(i,!1),rt(i.size)&&t.push(i),h()}function ut(){s=o[d],i=o[g];var n=sb_gt();s==undefined||i==undefined?a(n):k(s,n)>=e.logUploadCapIntervalInDays&&a(n)}function a(n){s=n,i=0}function k(n,t){var r=t-n;return r/yt}function rt(n){var r,t;return e.isInstrumentationEnabled?LogUploadCapFeatureEnabled?(r=sb_gt(),k(s,r)>=e.logUploadCapIntervalInDays&&a(r),i>=e.logUploadCapSizeInChar)?!1:(t=i+n,t>=e.logUploadCapSizeInChar)?(c("LogUploadSizeLimitReached",1,_G.IG,!0),i=e.logUploadCapSizeInChar,!1):(i=t,!0):!0:!1}var t=[],s,i,pt=null,vt=null,y=!1,l=null,r=[],ht=_w.location.pathname,u=InstLogQueueKeyFetcher.Get(ht),d=u+"_logUploadIntervalStartDate",g=u+"_uploadedLogSizeInInterval";n.dumpToStorage=w,n.initialize=at,n.getBatch=lt,n.clearSentItems=ct,n.markFailedItems=it,n.recordRetryAttempt=tt,n.append=ft})(s||(s={})),l={mainQueue:{getInterval:function(){return e.flushInterval}},retryQueue:{getInterval:function(){return e.retryInterval}}},t.LogEvent=g,t.LogMasterPageImpression=rt,t.Log=ut,t.ForceFlush=nt,lt(),t.FlushMainQueueDontForce=p,u.bind("onP1",p,!0),u.bind("ajax.postload",p,!0),r.bind(_w,"beforeunload",nt,!1),_w.Log={Log:ut},_w.Log2={LogEvent:g,LogMasterPageImpression:rt,ForceFlush:nt,FlushMainQueueDontForce:p}}),_dummy=window,function(n){function c(n,i,f,e,o){(new Image).src=_G.lsUrl+'&Type=Event.ClientInst&DATA=[{"T":"CI.Error","FID":"CI","Name":"JSError","Text":'+n+"}]",t(1,r,u,n,i,f,e,o)}function f(n,i,f,e,o){t(1,r,u,n,i,f,e,o)}function e(n,i,r){t(2,o,h,n,i,r)}function t(n,t,i,r,u,f,e,o){var a=null,v,y,h,c,l;f&&(v=f.stack?f.stack.replace(location.href,"self"):f.message),y=n+r,h=t[y],typeof h!="number"&&(h=0),c={Text:u,Meta:r,Line:e,Char:o,Stack:v,Name:"JSError"},l=JSON.stringify(c),n==1?(console.error(l),a="Error"):n==2&&(console.warn(l),a="Warning"),h<i&&(Log2.LogEvent(s,c,a),t[y]=h+1),n==1&&sj_evt&&sj_evt.fire("ErrorInstrumentation",JSON.stringify(c))}var i;(function(n){n[n.None=0]="None",n[n.Error=1]="Error",n[n.Warning=2]="Warning"})(i||(i={}));var s="ClientInst",r={},u=1,o={},h=1;n.LogFatalError=c,n.LogError=f,n.LogWarning=e}(LoggerModule||(LoggerModule={})),_w.SharedLogHelper={LogError:LoggerModule.LogError,LogWarning:LoggerModule.LogWarning},function(n){function u(n,u,f,e){n&&u&&(n.addEventListener("statechanged",i),sj_be(u,"visibilitychange",i,!1),r=e),t.push(f)}function i(n){var r=!1,f,e,u,i;if(_w.clickFlushedTime&&sb_gt()-_w.clickFlushedTime<100&&(r=!0),n.synthetic!==!0)try{if(r||sj_evt.fire("visibility",document.hidden),f=document.visibilityState,f!=="visible"){for(e in t)u=t[e],u();r?Log2.FlushMainQueueDontForce():Log2.ForceFlush()}i=document.createEvent("event"),i.initEvent("visibilitychange",!0,!0),i.synthetic=!0,document.dispatchEvent(i)}catch(o){SharedLogHelper.LogFatalError("SharedLogVisibilityFailure",null,o)}}var t=[],r;n.Register=u}(VisibilityChangeHelperModule||(VisibilityChangeHelperModule={})),_w.VisibilityChangeEventHelper={Register:VisibilityChangeHelperModule.Register},sj_anim=function(n){var s=25,t=this,c,o,h,e,u,f,l,i,r;t.init=function(n,s,a,v,y){if(c=n,u=s,f=a,l=v,r=y,v==0){e=h,r&&r();return}i||(i=u),o||t.start()},t.start=function(){h=sb_gt(),e=Math.abs(f-i)/l*s,o=setInterval(t.next,s)},t.stop=function(){clearInterval(o),o=0},t.next=function(){var s=sb_gt()-h,o=s>=e;i=u+(f-u)*s/e,o&&(t.stop(),i=f),n(c,i),o&&r&&r()},t.getInterval=function(){return s}},sj_fader=function(){return new sj_anim(function(n,t){sj_so(n,t)})},define("framework",["require","exports","event.custom"],function(n,t,i){i.bind("onPP",function(){i.fire("onP1Lazy")},!0)}),function(){var t=!1;sj_evt.bind("ErrorInstrumentation",function(){return t=!0}),sj_be(_w,"load",function(){if(!t){var i=SearchAppWrapper.CortanaApp,n="showWebViewAsync";i[n]&&SearchAppWrapper.Utils.wrapApiCallWithTimeout(i,n,"SWV",null,500,null)}})}(ShowWebView||(ShowWebView={})),function(n){function i(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return t.apply(null,[null,n].concat(r))}function t(n,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return function(){for(var i=[],f,u=0;u<arguments.length;u++)i[+u]=arguments[u];if(i&&i.length!==0)for(f in r)r.hasOwnProperty(f)&&i.push(r[f]);else i=r;return t.apply(n,i)}}n.deferFunction=i,n.deferMethod=t,window.sj_df=i,window.sj_dm=t}(CoreUtilities||(CoreUtilities={}))